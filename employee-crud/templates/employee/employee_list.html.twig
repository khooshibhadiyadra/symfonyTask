{# templates/employee/list.html.twig #}

<h1>Employee List</h1>

<form id="salary-filter-form" method="get" action="{{ path('employee/list.html.twig') }}">
    <label for="salary">Filter by Salary:</label>
    <select name="salary" id="salary">
        <option value="">Select Salary</option>
        <option value="100">100</option>
        <option value="200">200</option>
        <option value="300">300</option>
    </select>
</form>

<div id="employee-list">
    {% include 'employee/_employee_list.html.twig' with {'employees': employees} %}
</div>

<script>
document.getElementById('salary').addEventListener('change', function() {
var salary = this.value;
var url = '{{ path('employee_filter_ajax') }}' + (salary ? '?salary=' + salary : '');
fetch(url)
    .then(response => response.text())
    .then(data => {
    document.getElementById('employee-list').innerHTML = data;
      })
      .catch(error => console.error('Error fetching filtered employees:', error));
    });
</script>
